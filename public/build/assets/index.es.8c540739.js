import{r as u,a as s}from"./app.4a29d4e0.js";var i=[];function B(){var e="https://js.paystack.co/v1/inline.js",t=u.exports.useState({loaded:!1,error:!1}),a=t[0],n=t[1];return u.exports.useEffect(function(){if(i.includes(e))n({loaded:!0,error:!1});else{i.push(e);var r=document.createElement("script");r.src=e,r.async=!0;var c=function(){n({loaded:!0,error:!1})},o=function(){var l=i.indexOf(e);l>=0&&i.splice(l,1),r.remove(),n({loaded:!0,error:!0})};return r.addEventListener("load",c),r.addEventListener("complete",c),r.addEventListener("error",o),document.body.appendChild(r),function(){r.removeEventListener("load",c),r.removeEventListener("error",o)}}},[e]),[a.loaded,a.error]}var D=function(e){var t=window.PaystackPop&&window.PaystackPop.setup(e);t&&t.openIframe()};function F(e){var t=B(),a=t[0],n=t[1],r=e.publicKey,c=e.firstname,o=e.lastname,l=e.phone,w=e.email,O=e.amount,k=e.reference,f=e.metadata,E=f===void 0?{}:f,v=e.currency,j=v===void 0?"NGN":v,z=e.channels,m=e.label,_=m===void 0?"":m,y=e.plan,L=y===void 0?"":y,h=e.quantity,q=h===void 0?"":h,p=e.subaccount,I=p===void 0?"":p,b=e.transaction_charge,K=b===void 0?0:b,P=e.bearer,N=P===void 0?"account":P,U=e.split,G=e.split_code;function R(C,x){if(n)throw new Error("Unable to load paystack inline script");if(a){var A={callback:C||function(){return null},onClose:x||function(){return null},key:r,ref:k,email:w,firstname:c,lastname:o,phone:l,amount:O,currency:j,plan:L,quantity:q,"data-custom-button":e["data-custom-button"]||"",channels:z,subaccount:I,transaction_charge:K,bearer:N,label:_,metadata:E,split:U,split_code:G};D(A)}}return u.exports.useEffect(function(){if(n)throw new Error("Unable to load paystack inline script")},[n]),R}var d=function(){return d=Object.assign||function(t){for(var a,n=1,r=arguments.length;n<r;n++){a=arguments[n];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c])}return t},d.apply(this,arguments)};function S(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a}var g=u.exports.createContext({initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),H=function(e){var t=e.children,a=e.onSuccess,n=e.onClose,r=S(e,["children","onSuccess","onClose"]),c=F(r);return s(g.Provider,{value:{initializePayment:c,onSuccess:a,onClose:n},children:t})},J=function(e){var t=e.children,a=e.ref,n=u.exports.useContext(g),r=n.initializePayment,c=n.onSuccess,o=n.onClose,l=function(){return r(c,o)};return t({initializePayment:l,ref:a})};u.exports.forwardRef(function(e,t){var a=e.children,n=e.onSuccess,r=e.onClose,c=S(e,["children","onSuccess","onClose"]),o=n||function(){return null},l=r||function(){return null};return s(H,{...d({},c,{onSuccess:o,onClose:l}),children:s(J,{ref:t,children:a})})});export{F as u};
